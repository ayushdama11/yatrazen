import { GoogleGenerativeAI } from "@google/generative-ai"
  
  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash-exp",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  
    export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel Plan for location: las vegas, for 3 days for couple with a cheap budget, give me a hotels options list with hotelname, hotel address, price , hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, place details, place image url,geo coordinates, ticket pricing,rating, time to travel each of the location for 3 days with each day plan with best time to visit in JSON format."},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "Okay, here's a JSON-formatted travel plan for a 3-day budget trip to Las Vegas for a couple. I've focused on free and low-cost activities, affordable hotel options, and tried to balance iconic sights with some local flavor.\n\n```json\n{\n  \"tripName\": \"Las Vegas Budget Getaway for Couples\",\n  \"duration\": \"3 Days\",\n  \"budget\": \"Cheap\",\n  \"travelers\": \"Couple\",\n    \"hotelOptions\": [\n        {\n            \"hotelName\": \"Circus Circus Hotel & Casino\",\n            \"hotelAddress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n            \"price\": \"$40-80/night\",\n             \"hotelImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/24/c6/7c/0e/caption.jpg?w=700&h=-1&s=1\",\n             \"geoCoordinates\": {\"latitude\": 36.1267, \"longitude\": -115.1677},\n            \"rating\": 3.5,\n             \"description\": \"A family-friendly option with a circus theme. Offers free circus acts and is located on the north end of the Strip. Expect basic but clean rooms.\"\n        },\n         {\n            \"hotelName\": \"Excalibur Hotel & Casino\",\n            \"hotelAddress\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n            \"price\": \"$50-90/night\",\n            \"hotelImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/24/d4/40/33/caption.jpg?w=700&h=-1&s=1\",\n            \"geoCoordinates\": {\"latitude\": 36.0981, \"longitude\": -115.1742},\n            \"rating\": 3.8,\n            \"description\": \"A castle-themed hotel at the south end of the Strip. Good for its low prices and central location, with a bit of a kitschy charm.\"\n        },\n        {\n            \"hotelName\": \"OYO Hotel & Casino Las Vegas\",\n            \"hotelAddress\": \"115 E Tropicana Ave, Las Vegas, NV 89109\",\n            \"price\": \"$40-75/night\",\n            \"hotelImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/22/f7/85/42/oyo-hotel-casino-las.jpg?w=700&h=-1&s=1\",\n             \"geoCoordinates\": {\"latitude\": 36.1013, \"longitude\": -115.1726},\n            \"rating\": 3.6,\n            \"description\":\"Previously the Hooters Hotel, offers budget-friendly rates and is near the southern end of the Strip. It's a no-frills option.\"\n        }\n    ],\n    \"itinerary\": {\n        \"day1\": {\n            \"theme\": \"South Strip Exploration & Free Shows\",\n            \"bestTimeToVisit\": \"Morning and Evening\",\n             \"places\": [\n                {\n                    \"placeName\": \"Welcome to Fabulous Las Vegas Sign\",\n                    \"placeDetails\":\"Iconic sign at the south end of the strip. A must-see photo op.\",\n                    \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/3/34/Las_Vegas_Sign_at_Dusk.jpg/800px-Las_Vegas_Sign_at_Dusk.jpg\",\n                     \"geoCoordinates\": {\"latitude\": 36.0853, \"longitude\": -115.1718},\n                    \"ticketPricing\": \"Free\",\n                   \"timeToTravel\":\"15-20 minutes by bus from most hotels on the Strip. 5-10 minutes by taxi or ride-sharing\"\n                },\n                {\n                    \"placeName\": \"Bellagio Conservatory & Botanical Garden\",\n                    \"placeDetails\":\"Beautiful indoor gardens with seasonal displays, located inside the Bellagio hotel. Free to enter.\",\n                    \"placeImageUrl\":\"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/25/8f/97/7d/caption.jpg?w=700&h=-1&s=1\",\n                     \"geoCoordinates\":{\"latitude\": 36.1128, \"longitude\": -115.1743},\n                    \"ticketPricing\": \"Free\",\n                    \"timeToTravel\":\"Walking distance from most central strip hotels\"\n                 },\n                {\n                    \"placeName\":\"Fountains of Bellagio\",\n                    \"placeDetails\":\"Spectacular free water show with music, located in front of the Bellagio hotel.\",\n                    \"placeImageUrl\":\"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/28/4c/d7/f8/caption.jpg?w=700&h=-1&s=1\",\n                     \"geoCoordinates\": {\"latitude\": 36.1125, \"longitude\": -115.1737},\n                     \"ticketPricing\": \"Free\",\n                     \"timeToTravel\":\"Right next to the Bellagio Conservatory\"\n                },\n                {\n                    \"placeName\": \"Mirage Volcano\",\n                    \"placeDetails\": \"Free volcano eruption show outside the Mirage Hotel, with fire and smoke effects.\",\n                   \"placeImageUrl\":\"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/22/6d/77/54/caption.jpg?w=700&h=-1&s=1\",\n                     \"geoCoordinates\": {\"latitude\": 36.1210, \"longitude\": -115.1712},\n                    \"ticketPricing\":\"Free\",\n                    \"timeToTravel\": \"Walkable from the Bellagio; 15-20 minutes.\"\n                }\n            ]\n        },\n         \"day2\": {\n             \"theme\": \"Downtown Las Vegas & Fremont Street\",\n             \"bestTimeToVisit\": \"Afternoon and Evening\",\n              \"places\": [\n                  {\n                      \"placeName\": \"Fremont Street Experience\",\n                      \"placeDetails\": \"Pedestrian mall in downtown Las Vegas with a light show canopy, street performers, and many bars.\",\n                     \"placeImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/28/3c/1a/65/caption.jpg?w=700&h=-1&s=1\",\n                      \"geoCoordinates\": {\"latitude\": 36.1702, \"longitude\": -115.1410},\n                      \"ticketPricing\": \"Free (activities/games cost extra)\",\n                       \"timeToTravel\":\"30-40 minutes by bus or taxi from the strip\"\n                   },\n                  {\n                    \"placeName\": \"Downtown Container Park\",\n                    \"placeDetails\":\"Outdoor shopping, dining, and entertainment complex made of shipping containers.\",\n                     \"placeImageUrl\":\"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/18/2e/05/7d/container-park.jpg?w=700&h=-1&s=1\",\n                       \"geoCoordinates\": {\"latitude\": 36.1693, \"longitude\": -115.1403},\n                      \"ticketPricing\":\"Free to enter; individual prices for shops/restaurants\",\n                      \"timeToTravel\": \"Walkable from Fremont Street Experience\"\n                  },\n                   {\n                      \"placeName\":\"The Mob Museum\",\n                      \"placeDetails\": \"Interactive exhibits on the history of organized crime. (Consider if budget allows)\",\n                    \"placeImageUrl\":\"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/25/97/69/6f/caption.jpg?w=700&h=-1&s=1\",\n                       \"geoCoordinates\": {\"latitude\": 36.1724, \"longitude\": -115.1407},\n                      \"ticketPricing\": \"$30 per person (optional)\",\n                       \"timeToTravel\": \"Short walk from Fremont Street\"\n                   },\n                   {\n                        \"placeName\": \"Street Performers on Fremont Street\",\n                        \"placeDetails\": \"Enjoy the unique and sometimes wacky street performers that come to Fremont Street\",\n                        \"placeImageUrl\":\"https://images.squarespace-cdn.com/content/v1/516a5f4fe4b0457a84e30a26/1410802889814-J1B1D90U6W6I9V2PULX5/1000w/fremont-street-performers-800.jpg?format=1000w\",\n                        \"geoCoordinates\":{\"latitude\": 36.1702, \"longitude\": -115.1410},\n                         \"ticketPricing\":\"Free\",\n                        \"timeToTravel\":\"Central to the Fremont street area\"\n                   }\n              ]\n         },\n         \"day3\": {\n            \"theme\":\"Central Strip Exploration &  Relax\",\n            \"bestTimeToVisit\":\"Morning and Afternoon\",\n             \"places\":[\n                {\n                     \"placeName\": \"High Roller Observation Wheel\",\n                     \"placeDetails\":\"Giant Ferris wheel with amazing views of the strip. (Can opt for a daytime ride for lower cost.)\",\n                   \"placeImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/22/15/68/47/the-high-roller.jpg?w=700&h=-1&s=1\",\n                      \"geoCoordinates\": {\"latitude\": 36.1179, \"longitude\": -115.1688},\n                    \"ticketPricing\":\"$25-35 per person (can look for discounts)\",\n                    \"timeToTravel\": \"Central Strip, short bus/taxi or walkable depending on hotel.\"\n                },\n                 {\n                     \"placeName\": \"LINQ Promenade\",\n                     \"placeDetails\":\"Outdoor shopping, dining, and entertainment area adjacent to the High Roller.\",\n                     \"placeImageUrl\":\"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/22/7f/35/73/caption.jpg?w=700&h=-1&s=1\",\n                     \"geoCoordinates\": {\"latitude\": 36.1179, \"longitude\": -115.1695},\n                    \"ticketPricing\": \"Free to walk around; costs for shops/restaurants\",\n                   \"timeToTravel\":\"Next to the High Roller\"\n                 },\n                {\n                    \"placeName\":\"Eiffel Tower Viewing Deck (Paris Hotel)\",\n                    \"placeDetails\": \"View the Las Vegas Strip from the Eiffel Tower. (Consider if budget allows)\",\n                    \"placeImageUrl\":\"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/29/c3/f7/69/caption.jpg?w=700&h=-1&s=1\",\n                    \"geoCoordinates\":{\"latitude\": 36.1119, \"longitude\": -115.1711},\n                     \"ticketPricing\":\"$25-30 per person (optional)\",\n                    \"timeToTravel\": \"Short bus/taxi ride to the strip from the hotel area.\"\n                },\n                 {\n                     \"placeName\": \"Pool Relaxation at Hotel\",\n                     \"placeDetails\":\"Take advantage of the hotel pool for a relaxing afternoon before heading home.\",\n                     \"placeImageUrl\":\"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/1a/7a/96/92/circus-circus-pool.jpg?w=700&h=-1&s=1\",\n                      \"geoCoordinates\": {\"latitude\": 36.1267, \"longitude\": -115.1677},\n                     \"ticketPricing\":\"Free\",\n                     \"timeToTravel\": \"At your hotel\"\n\n                 }\n            ]\n         }\n    }\n}\n```\n**Important Notes for a Budget Trip:**\n* **Transportation:** Use the Deuce bus on the strip for an affordable way to get around ($8 for a 24-hour pass). Walking is also great if you have good shoes!\n* **Food:**  Look for cheap eats and avoid tourist traps. Fast food, food courts, and grocery store items can help save money. Happy hours can also get you cheaper drinks and appetizers.\n* **Hydration:** Vegas can be very hot. Bring a reusable water bottle and use free refill stations at hotels and casinos to avoid paying for bottled water.\n* **Free Activities:** There are many free attractions besides those listed, explore hotels and their theming, people watching is great in Vegas.\n\n**Disclaimer:** Prices are estimates and can vary based on time of year, promotions, and demand. Please check the official websites for the most up-to-date information before your trip.\n\nEnjoy your trip to Las Vegas!\n"},
          ],
        },
      ],
    });